#!/usr/bin/env zsh

function lg {
    git log --graph --pretty=format:'%w(100,0,10)%h -%d %s (%cr) <%an>' --abbrev-commit -100 $@ >| /tmp/ok
}

function rubypath {
    export PATH="$(ruby -rubygems -e 'puts Gem.user_dir')/bin:$PATH"
}

function clone_emacsd {
    curl -fsSL 'https://raw.githubusercontent.com/cask/cask/master/go' | python
    git clone 'http://github.com/hlian/emacs-d' ~/.emacs.d
}

function install_stack {
}

function stin {
    stack install $@ --fast --test --ghc-options="-Wall -j +RTS -A512m -n2m -RTS"
}

function stbo {
    stack build --test --ghc-options="-O2 -funbox-strict-fields -Wall -j +RTS -A512m -n2m -RTS" $@
}

function stg {
    stack ghci $@ --no-build --ghc-options="-Wall -j +RTS -A512m -n2m -RTS"
}

alias -g .gc='--fast --ghc-options="-Wall -j +RTS -A1024m -n2m -RTS"'
alias sb='stack build'
